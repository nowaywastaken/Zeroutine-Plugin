<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    body { width: 320px; padding: 15px; font-family: "PingFang SC", sans-serif; }
    h3 { margin-top: 0; color: #333; }
    
    /* è¾“å…¥æŒ‡ä»¤çš„æ¡† */
    textarea { 
      width: 100%; height: 60px; margin-bottom: 10px; 
      border: 1px solid #ccc; border-radius: 5px; padding: 5px;
      box-sizing: border-box; /* è®©è¾¹æ¡†ä¸æ’‘å¤§å®½åº¦ */
    }

    button { 
      background-color: #34C759; /* è‹¹æœç»¿ */
      color: white; border: none; padding: 10px; 
      border-radius: 8px; cursor: pointer; width: 100%; font-weight: bold;
    }
    button:hover { background-color: #248a3d; }
    
    #status { 
      margin-top: 10px; font-size: 12px; color: #666; 
      background: #f0f0f0; padding: 8px; border-radius: 5px;
    }
  </style>
</head>
<body>
  <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
    <h3 style="margin: 0;">âœï¸ å°ä¸‡çš„ AI å˜´æ›¿</h3>
    <button id="settingsBtn" style="background: none; border: none; font-size: 20px; width: auto; padding: 0; cursor: pointer;">âš™ï¸</button>
  </div>

  <!-- Tab Switcher -->
  <div style="display: flex; gap: 10px; margin-bottom: 15px;">
    <button id="tabBtnAgent" style="flex: 1; opacity: 1; background-color: #34C759;">ğŸ¤– Agent</button>
    <button id="tabBtnScripts" style="flex: 1; opacity: 0.5; background-color: #007AFF;">ğŸ”Œ Scripts</button>
  </div>
  
  <!-- TAB 1: AGENT (Original) -->
  <div id="tabAgent">
      <textarea id="userPrompt" placeholder="æ¯”å¦‚ï¼šå¸®æˆ‘å†™ä¸ªè¯·å‡æ¡ï¼Œæˆ–è€…æ˜¯æœç´¢ M3 MacBook è¯„æµ‹..."></textarea>
      
      <button id="writeBtn">è®© AI ç”Ÿæˆå¹¶å¡«å†™</button>
      <button id="stopBtn" style="background-color: #FF3B30; display: none; margin-top: 5px;">â¹ åœæ­¢å½“å‰ä»»åŠ¡</button>
      
      <div id="status">å‡†å¤‡å°±ç»ª</div>

      <!-- ğŸ¤– AI Response Section -->
      <textarea id="aiResponse" readonly placeholder="ğŸ¤– AI çš„å›ç­”ä¼šå‡ºç°åœ¨è¿™é‡Œ..." style="display: none; height: 120px; margin-top: 10px; background-color: #f9f9f9; color: #333;"></textarea>

      <!-- ğŸ’ Memory Backpack Section -->
      <div style="margin-top: 15px; border-top: 1px dashed #ccc; padding-top: 10px;">
        <button id="toggleMemoryBtn" style="background-color: #007AFF; margin-bottom: 5px;">ğŸ’ æˆ‘çš„è®°å¿†èƒŒåŒ…</button>
        <div id="memoryArea" style="display: none;">
          <textarea id="memoryContent" placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„ä¸ªäººä¿¡æ¯ï¼ˆå§“åã€ç”µè¯ã€åœ°å€ç­‰ï¼‰ï¼ŒAI ä¼šè®°ä½å®ƒä»¬..." style="height: 100px; font-size: 12px;"></textarea>
          <button id="saveMemoryBtn" style="background-color: #FF9500; font-size: 12px; padding: 5px;">ğŸ’¾ ä¿å­˜è®°å¿†</button>
        </div>
      </div>
  </div>

  <!-- TAB 2: SCRIPTS (New) -->
  <div id="tabScripts" style="display: none;">
      <div id="scriptList" style="margin-bottom: 10px;">
          <!-- Active Scripts will be listed here -->
          <div style="text-align: center; color: #999; font-size: 12px;">å½“å‰é¡µé¢æš‚æ— è„šæœ¬</div>
      </div>
      
      <div style="border-top: 1px solid #eee; padding-top: 10px;">
          <textarea id="scriptPrompt" placeholder="æè¿°ä½ æƒ³è®© AI å†™çš„è„šæœ¬ï¼Œä¾‹å¦‚ 'æŠŠç½‘é¡µèƒŒæ™¯å˜æˆé»‘è‰²'..." style="height: 50px; font-size: 12px;"></textarea>
          <button id="generateScriptBtn" style="background-color: #007AFF;">âœ¨ ç”Ÿæˆæ–°è„šæœ¬</button>
          <div id="scriptStatus" style="font-size: 12px; color: #666; margin-top: 5px;"></div>
      </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>